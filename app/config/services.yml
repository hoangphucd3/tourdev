# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/book/service_container.html
parameters:
#    parameter_name: value

services:
#    service_name:
#        class: AppBundle\Directory\ClassName
#        arguments: ["@another_service_name", "plain_value", "%parameter_name%"]
    app.user_manager:
            class: AppBundle\Manager\UserManager
            arguments:
                - "@service_container"
                - "@doctrine.orm.entity_manager"
                - AppBundle\Entity\User

    app.tour_manager:
        class: AppBundle\Manager\TourManager
        arguments:
            - "@doctrine.orm.entity_manager"
            - AppBundle\Entity\Tour

    app.tour_order_manager:
        class: AppBundle\Manager\TourOrderManager
        arguments:
            - "@security.token_storage"
            - "@doctrine.orm.entity_manager"
            - AppBundle\Entity\TourOrder

    app.comment_manager:
            class: AppBundle\Manager\CommentManager
            arguments:
                - "@doctrine.orm.entity_manager"
                - AppBundle\Entity\Comment

    app.slugger:
        class: AppBundle\Utils\Slugger

    app.block.recent_user_comment:
        class: AppBundle\Block\RecentUserCommentBlockService
        arguments:
            - app.block.recent_user_comment
            - "@templating"
            - "@app.comment_manager"
            - "@app.user_manager"
        tags:
            - { name: sonata.block }

    app.block.user_orders:
            class: AppBundle\Block\UserOrderBlockService
            arguments:
                - app.block.recent_user_comment
                - "@templating"
                - "@app.tour_order_manager"
            tags:
                - { name: sonata.block }

    app.form.type.tour_order:
        class: AppBundle\Form\TourOrderType
        arguments: ["@service_container"]
        tags:
            - { name: form.type }

    app.form.type.tour_request:
        class: AppBundle\Form\TourRequestType
        arguments: ["@app.tour_order_manager"]
        tags:
            - { name: form.type }

    app.admin.tour:
        class: AppBundle\Admin\TourAdmin
        arguments: [~, AppBundle\Entity\Tour, AppBundle:TourAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: Tour }

    app.admin.location:
        class: AppBundle\Admin\LocationAdmin
        arguments: [~, AppBundle\Entity\Location, AppBundle:LocationAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: Location }

    app.admin.tour_location:
        class: AppBundle\Admin\TourLocationAdmin
        arguments: [~, AppBundle\Entity\TourLocation, AppBundle:TourLocationAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: TourLocation }

    app.admin.hotel:
        class: AppBundle\Admin\HotelAdmin
        arguments: [~, AppBundle\Entity\Hotel, AppBundle:HotelAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: Hotel }

    app.admin.tour_hotel:
        class: AppBundle\Admin\TourHotelAdmin
        arguments: [~, AppBundle\Entity\TourHotel, AppBundle:TourHotelAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: TourHotel }

    app.admin.user:
        class: AppBundle\Admin\UserAdmin
        arguments: [~, AppBundle\Entity\User, AppBundle:UserAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: User }

    app.admin.tour_category:
        class: AppBundle\Admin\TourCategoryAdmin
        arguments: [~, AppBundle\Entity\TourCategory, AppBundle:TourCategoryAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: TourCategory }

    app.admin.tour_background:
        class: AppBundle\Admin\TourBackgroundAdmin
        arguments: [~, AppBundle\Entity\TourBackground, AppBundle:TourBackgroundAdmin]
        tags:
            - { name: sonata.admin, manager_type: orm, group: admin, label: TourBackground }

    app.admin.tour_order:
            class: AppBundle\Admin\TourOrderAdmin
            arguments: [~, AppBundle\Entity\TourOrder, AppBundle:TourOrderAdmin]
            tags:
                - { name: sonata.admin, manager_type: orm, group: admin, label: TourOrder }

    app.admin.comment:
            class: AppBundle\Admin\CommentAdmin
            arguments: [~, AppBundle\Entity\Comment, AppBundle:CommentAdmin]
            tags:
                - { name: sonata.admin, manager_type: orm, group: admin, label: Comment }